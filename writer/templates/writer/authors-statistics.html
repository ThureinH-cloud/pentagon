{% extends 'writer/admin-dashboard.html' %}
{% block writer %}

<div class=" w-full bg-base-200 m-3 max-h-fit">
    <div>
      <h2 class="text-center p-3 font-bold">Author Statistics</h2>

    </div>
    <table class="table mx-3 my-3">
      <!-- head -->
      
      <thead>
        <tr>
          <th>Id</th>
          <th>Name</th>
          <th>Rank</th>
          <th>Total Published Articles</th>
          
        </tr>
        
      </thead>
      
      <tbody>
        
        <!-- row 1 -->
        
        {% for account in authors %}
        
        {% if account.total_articles is 0 %}
            <p></p>
            {% else %}
            <tr>
                <td>
                  {{account.id}}
                </td>
                <td>
                  <div class="flex items-center gap-3">
                    <div class="avatar">
                      <div class="mask mask-squircle h-12 w-12">
                        <img src="{{ account.profile.url }}" alt="Profile Image" />
                        
                      </div>
                    </div>
                    <div>
                      <div class="font-bold">{{account.user}}</div>
                    </div>
                  </div>
                </td>
                <td>
                    <div class="font-bold">{{account.rank}}</div>
                </td>
                <td>
                    <div class="font-bold"> {{account.total_articles}}</div>
                </td>
                <td>
                    <div class="font-bold">{{account.get_account_status.rank}} </div>
                </td>
              </tr>
        {% endif %}
            
        {% endfor %}
            
        
        
      </tbody>
      <!-- foot -->
      <tfoot>
        <tr>
          <th></th>
          <th>Total Authors</th>
          <th>{{count}}</th>
          <th></th>
          <th></th>
        </tr>
      </tfoot>
    </table>
  </div>
{% endblock  %}